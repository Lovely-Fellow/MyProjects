<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

<script type="text/javascript">
  /* Select Files from FileDialog */
  window.onload = function() {
      if (typeof window.FileReader !== 'function') {
          alert("The file API isn't supported on this browser yet.");
      }
  }
  var href = location.href;
  var dir = href.substring(0, href.lastIndexOf('/')) + "/"

  function readmultifiles(files) {
    var ul = document.querySelector("#bag>ul");
    while (ul.hasChildNodes()) {
        ul.removeChild(ul.firstChild);
    }
    // Read first file
    setup_reader(files, 0);
  }

  // Don't define functions in functions in functions, when possible.

  function setup_reader(files, i) {
    var file = files[i];
    var name = file.name;
    var reader = new FileReader();
    reader.onload = function(e){
        readerLoaded(e, files, i, name);
    };
    reader.readAsBinaryString(file);
    // After reading, read the next file.
  }

  function readerLoaded(e, files, i, name) {
    // get file content  
    var bin = e.target.result;
    // do sth with text
    
    DrawTimeLine(name, bin);
    // If there's a file left to load
    if (i < files.length - 1) {
        // Load the next file
        setup_reader(files, i+1);
    }
  }

  google.charts.load("current", {packages:["timeline"]});
  google.charts.setOnLoadCallback(drawChart);
  
  function DrawTimeLine(filename, filecontent)
  {
    alert(filename + filecontent);
  }
  
  function drawChart() {

   var container = document.getElementById('board');
    var chart = new google.visualization.Timeline(container);
    var dataTable = new google.visualization.DataTable();
    dataTable.addColumn({ type: 'string', id: 'Date' });
    dataTable.addColumn({ type: 'string', id: 'Name' });
    dataTable.addColumn({ type: 'date', id: 'Start' });
    dataTable.addColumn({ type: 'date', id: 'End' });
    
    dataTable.addRows([
      [ 'Magnolia Room', '',       new Date(0,0,0,12,0,0),  new Date(0,0,0,13,30,0) ],
      [ 'Magnolia Room', '',    new Date(0,0,0,14,0,0),  new Date(0,0,0,15,30,0) ],
      [ 'Magnolia Room', '',        new Date(0,0,0,16,0,0),  new Date(0,0,0,17,30,0) ],
      [ 'Magnolia Room', '',        new Date(0,0,0,24,0,0),  new Date(0,0,0,24,0,0) ],
      [ 'Willow Room',   '',    new Date(0,0,0,12,30,0), new Date(0,0,0,14,0,0) ],
      [ 'Willow Room',   '', new Date(0,0,0,14,30,0), new Date(0,0,0,16,0,0) ],
      [ 'Willow Room',   '',     new Date(0,0,0,16,30,0), new Date(0,0,0,18,0,0) ],
      [ 'Willow Room',   '',     new Date(0,0,0,24,0,0), new Date(0,0,0,24,0,0) ]]);

    var options = {
      timeline: { singleColor: '#558' },
    };


    chart.draw(dataTable, options);
    
  }


</script>
 <body>

  <div id="board" ></div>
  <input type="file" id="filesx" name="filesx[]"
    onchange="readmultifiles(this.files)" multiple=""/>
  <div id="bag"><ul/></div>
  <pre id="data"></pre>
</body>