;(function($,h,i,j){h.wp=h.wp||{};h.wp.gdpet=h.wp.gdpet||{};h.wp.gdpet.ga={init:function(){if(gdpet_ga_data.events.email){this.events.email()}if(gdpet_ga_data.events.download){this.events.download()}if(gdpet_ga_data.events.external){this.events.external()}},log:{custom:function(a,b,c,d,e,f){if(h.__gaPET&&__gaPET.hasOwnProperty("loaded")&&__gaPET.loaded===true&&__gaPET.create){var g={nonInteraction:gdpet_ga_data.non_interactive};if(f&&f===true){g.hitCallback=function(){i.location=e}}if(!a){a="event"}if(!c){c="click"}__gaPET("send",a,b,c,d,g)}},event:function(a,b,c,d,e,f){if(e&&e.hasOwnProperty("defaultPrevented")&&e.defaultPrevented){return}if(h.__gaPET&&__gaPET.hasOwnProperty("loaded")&&__gaPET.loaded===true&&__gaPET.create){var g={nonInteraction:gdpet_ga_data.non_interactive};if(d&&d===true){g.hitCallback=function(){i.location=c}}if(!f){f="event"}if(f==="pageview"){__gaPET("send","pageview",b,g)}else{__gaPET("send","event",a,"click",b,g)}}},pageview:function(a,b,c,e){wp.gdpet.ga.log.event("",a,b,c,e,"pageview")}},events:{email:function(){$(i).on("click",'a[href^="mailto"]:not(.ga-disable-event-tracking)',function(e){wp.gdpet.ga.log.event(gdpet_ga_data.labels.email,this.href.replace(/^mailto\:/i,"").toLowerCase(),this.href,false,e)})},download:function(){$(i).on("click","a:not(.ga-disable-event-tracking)",function(e){if(this.hostname&&(this.hostname===h.location.hostname)){var a=this.href.match(wp.gdpet.ga.regexp.download());if(a&&a.length===1){if($.inArray(a[0].substr(1),gdpet_ga_data.download.extensions)>-1){if(gdpet_ga_data.download.pageview){wp.gdpet.ga.log.pageview(this.pathname,this.href,true,e)}else{wp.gdpet.ga.log.event(gdpet_ga_data.labels.download,this.href,this.href,true,e)}return false}}}});$(i).on("click",'a.ga-force-download-tracking',function(e){if(gdpet_ga_data.download.pageview){wp.gdpet.ga.log.pageview(this.pathname,this.href,true,e)}else{wp.gdpet.ga.log.event(gdpet_ga_data.labels.download,this.href,this.href,true,e)}return false})},external:function(){$(i).on("click",'a[href^="http"]:not(.ga-disable-event-tracking)',function(e){if(this.hostname&&(this.hostname!==h.location.hostname)){if($(this).attr("target")==="_blank"){wp.gdpet.ga.log.event(gdpet_ga_data.labels.external,this.href,this.href,false,e)}else{wp.gdpet.ga.log.event(gdpet_ga_data.labels.external,this.href,this.href,true,e);return false}}});$(i).on("click",'a[href^="http"].ga-force-external-tracking',function(e){if($(this).attr("target")==="_blank"){wp.gdpet.ga.log.event(gdpet_ga_data.labels.external,this.href,this.href,false,e)}else{wp.gdpet.ga.log.event(gdpet_ga_data.labels.external,this.href,this.href,true,e);return false}})}},regexp:{download:function(){return/\.([0-9a-z]+)(?=[?#])|(\.)(?:[\w]+)$/gmi}}};wp.gdpet.ga.init()})(jQuery,window,document);
