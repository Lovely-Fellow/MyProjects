define(["./common"],function(e){"use strict";e.controller("integrationPermissionCtrl",["$modalInstance","$window","permissionData","eoDashContext",function(e,n,o,i){var t={"Google Drive":"Enable the Google Drive Integration to show more useful file previews when pasting a Google Drive file's URL into a room."},r={"Google Drive":"Enable Google Drive Integration"};this.message=t[o.provider]?t[o.provider]:"You can enhance your experience by enabling this integration",this.title=r[o.provider]?r[o.provider]:"Confirm",this.confirm=function(){e.dismiss("");var t=n.location.href,r=t.match(/^(.+)\/(rooms|plugins)/),a="";r&&r.length>1&&(a=r[1]);var s=t.indexOf("/plugins")>0,l=o.redirectUrl+(s?"&":"")+"%7Cenvironment_"+encodeURIComponent(a)+"environment_";if(i.isTeamApp()){n.open("","Google doc Integration","width=820","height=500").location=l}else s?n.location=l:n.open(l)}}]).factory("eoIntegrationPermission",["$modal",function(n){return{confirm:function(o){return n.open({templateUrl:e.templatePath+"integration-permission-dialog.html",controller:"integrationPermissionCtrl as integrationPermission",resolve:{permissionData:function(){return o}}})}}}])});