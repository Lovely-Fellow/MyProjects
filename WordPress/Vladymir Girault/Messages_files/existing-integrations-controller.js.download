define(["angular"],function(){"use strict";return["$scope","$state","$location","$window","eoRooms","eoAuth","eoPluginsDetailService","selfFlag","eoGoogleAnalytics","eoPlugins",function(e,i,n,t,o,a,g,r,l,p){"true"===r?l.ga("Integrations","configured by you integrations viewed"):l.ga("Integrations","configured integrations viewed"),e.integrationList=null,e.integrationListByApp=null,e.selectedGroup=null,g.getIntegrationsGroupedByApplications(r).then(function(i){e.integrationList=i.integratedApplications,g.getTokenOrAuthorizationUrl(a.user.userId,a.user.orgId).then(function(i){if(i.exist){var n=p.getGoogleDriveAppObject();e.integrationEmail=i.email,e.integrationList&&e.integrationList.length?(e.integrationList.push(n),e.integrationList.sort(function(e,i){var n=e.appName,t=i.appName;return n<t?-1:n>t?1:0})):e.integrationList=[n]}})}).catch(function(){e.loading=!1,e.integrationList=[]}),e.integrationExpandedAppName="",e.addBuildVersion=function(e){return e?e+"?"+t.dashVersion:void 0},e.open=function(i){if("app_google_drive"!==i.appId){if(i===e.selectedGroup)return void(e.selectedGroup=null);e.selectedGroup=i,e.loading=!0,e.integrationExpandedAppName=i.appName,e.integrationListByApp=null,g.getIntegrationsGroupedByApplicationId(i.appId,r).then(function(e){i.subintegrations=e.integrations}).finally(function(){e.loading=!1})}},e.editIntegration=function(e,n){"webhooks"===e.applicationType?i.go("integrateddetails",{id:n.integrationId,newflag:!1}):"googlecalendar"===e.applicationType?i.go("googlecalendarselect",{id:n.applicationId,intId:n.integrationId}):"Google Drive"===e.appName?i.go("plugins.googledriveresponse"):i.go("integrateddetails",{id:n.integrationId,newflag:!1})},e.addNewIntegration=function(e){"webhooks"===e.applicationType?i.go("webhooksroomselect",{id:e.appId,newflag:!0}):"googlecalendar"===e.applicationType?i.go("googlecalendarselect",{id:e.appId}):i.go("webhooksroomselect",{id:e.appId,newflag:!0})},e.editGoogleDriveIntegration=function(){i.go("googledrive",{email:e.integrationEmail})}}]});