define(["./room","./room-timestamp-filter"],function(e){"use strict";e.directive("eoRoomTimestamp",["$filter","eoAlarmClock",function(t,i){return{restrict:"EA",replace:!0,transclude:!0,scope:!0,templateUrl:e.templatePath+"room-timestamp-directive.html",controller:["$scope","$attrs",function(e,o){function n(i){e.timestamp=t("eoRoomTimestamp")(i),e.fullTime=t("date")(i,"fullDate")}function r(){c&&c.unsubscribe(),c=i.midnight().subscribe({next:function(e){console.info("Midnight observed: %s, notification time: %s",new Date(e),new Date),n(s)}})}var s,m=!0;o.$observe("timestamp",function(e){s=e,n(s),m&&(r(),m=!1)});var c;e.$on("$destroy",function(){c&&c.unsubscribe()})}]}}])});