define(["angular","jquery"],function(t,n){"use strict";var e,i,r=t.module,c=n.Deferred(),o=/^components\..+/;return t.module=function(){var n=r.apply(window,arguments);if(o.test(n.name))return n;if(2===arguments.length){i||(i=!0,n.config(["$animateProvider","$controllerProvider","$compileProvider","$filterProvider","$provide",function(n,i,r,c,o){e={animation:t.bind(n,n.register),controller:i.register,directive:r.directive,filter:c.register,factory:o.factory,service:o.service,constant:o.constant,value:o.value}}]).run(["$injector",function(t){e.injector=t,c.resolve()}]));var a={animation:n.animation,controller:n.controller,directive:n.directive,filter:n.filter,factory:n.factory,service:n.service,constant:n.constant,value:n.value};t.extend(n,{animation:function(t,n){return c.then(function(){e.animation(t,n)}),a.animation.call(this,t,n),this},controller:function(t,n){return c.then(function(){e.controller(t,n)}),a.controller.call(this,t,n),this},directive:function(t,n){return c.then(function(){e.injector.has(t+"Directive")||e.directive(t,n)}),a.directive.call(this,t,n),this},filter:function(t,n){return c.then(function(){e.filter(t,n)}),a.filter.call(this,t,n),this},factory:function(t,n){return c.then(function(){e.factory(t,n)}),a.factory.call(this,t,n),this},service:function(t,n){return c.then(function(){e.service(t,n)}),a.service.call(this,t,n),this},constant:function(t,n){return c.then(function(){e.constant(t,n)}),a.constant.call(this,t,n),this},value:function(t,n){return c.then(function(){e.value(t,n)}),a.value.call(this,t,n),this}})}return n},t});