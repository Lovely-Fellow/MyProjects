define(["./common","angular","./oauth-client-service","config-service"],function(e,t){"use strict";e.factory("eventLog",["$injector","eoDashContext","oLog","eoModelFactory","$http","$q","eoOauthClient","eoDashConfig","$exceptionHandler",function(e,o,n,r,c,a,i,s,u){return{log:function(c){if(o.isODC())try{return n.event(r.get("Event",c)),a.when()}catch(e){return u(e),a.reject()}else try{var g=e.get("eoAuth"),h={data:t.toJson(c)},l=s.odeskBaseURL+"/api/o2/v1/logging/"+g.user.legacyId+".json";return i.post(l,h)}catch(e){return u(e),a.reject()}}}}])});