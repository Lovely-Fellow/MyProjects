define(["./common","angular","moment-timezone"],function(a,i,e){"use strict";a.factory("eoTimezone",["eoAuth",function(a){var i=!1,n=function(){i||(i=!0,e.tz.link(["Africa/Cairo|Cairo","Africa/Casablanca|(no DST) Tangiers, Casablanca","Africa/Maputo|Harare, Pretoria","America/Bogota|Bogota, Lima","America/Argentina/Buenos_Aires|E Argentina (BA, DF, SC, TF)","America/Caracas|Caracas","America/La_Paz|La Paz","America/Chicago|Central Time (US & Canada)","America/Denver|Mountain Time (US & Canada)","America/Fortaleza|NE Brazil (MA, PI, CE, RN, PB)","America/Halifax|Atlantic Time (Canada)","America/Indiana/Knox|Eastern Time - Indiana - Starke County","America/Mexico_City|Mexico City, Tegucigalpa","America/New_York|Eastern Time (US & Canada)","America/Nome|Alaska","America/Phoenix|Arizona","America/Managua|Nicaragua","America/Regina|Saskatchewan","America/St_Johns|Newfoundland","America/Tijuana|Pacific Time (US & Canada); Tijuana","Asia/Almaty|Almaty, Dhaka","Asia/Omsk|Omsk, Novosibirsk","Asia/Baghdad|Baghdad, Kuwait, Nairobi, Riyadh","Asia/Bangkok|Bangkok, Jakarta, Hanoi","Asia/Kolkata|Mumbai, Kolkata, Chennai, New Delhi","Asia/Jerusalem|Israel","Asia/Kabul|Kabul","Asia/Kamchatka|Kamchatka","Asia/Karachi|Islamabad, Karachi","Asia/Krasnoyarsk|Krasnoyarsk","Asia/Magadan|Solomon Islands, New Caledonia","Asia/Shanghai|Beijing, Chongqing, Urumqi","Asia/Tbilisi|Abu Dhabi, Muscat, Tbilisi, Kazan","Asia/Yerevan|Armenia","Asia/Tehran|Tehran","Asia/Tokyo|Tokyo, Osaka, Sapporo, Seoul","Asia/Yakutsk|Yakutsk (Lena River)","Asia/Vladivostok|Magadan, Vladivostok","Asia/Yekaterinburg|Sverdlovsk","Asia/Tashkent|Tashkent","Atlantic/Azores|Azores, Cape Verde Island","Atlantic/South_Georgia|Mid-Atlantic","Australia/Adelaide|Adelaide","Australia/Brisbane|Brisbane","Australia/Sydney|Sydney, Melbourne","Australia/Darwin|Darwin","Australia/Hobart|Hobart","Australia/Perth|Hong Kong SAR, Perth, Singapore, Taipei","EET|Eastern Europe","Europe/Athens|Athens, Helsinki, Istanbul","Europe/Berlin|Berlin, Stockholm, Rome, Bern, Brussels","Europe/Lisbon|Lisbon","Europe/London|(Coordinated Universal Time) Dublin, Edinburgh, London","Europe/Moscow|Moscow, St. Petersburg, Volgograd","Europe/Minsk|Minsk","Europe/Paris|Paris, Madrid","Europe/Prague|Prague, Warsaw","Pacific/Auckland|Wellington, Auckland","Pacific/Fiji|Fiji Islands, Marshall Islands","Pacific/Guam|Guam, Port Moresby","Pacific/Honolulu|Hawaii","Pacific/Kwajalein|Eniwetok, Kwajalein","Pacific/Pago_Pago|Midway Island, Samoa","America/Sao_Paulo|S & SE Brazil (GO, DF, MG, ES, RJ, SP, PR, SC, RS)","America/Recife|Pernambuco","America/Los_Angeles|Pacific Time (US & Canada); Los Angeles","Asia/Kathmandu|Kathmandu, Nepal","America/Indiana/Indianapolis|Eastern Time - Indiana - most locations","Asia/Irkutsk|Irkutsk (Lake Baikal)","Etc/UTC|(Coordinated Universal Time)","Pacific/Apia|Apia (Samoa)","Africa/Algiers|Algeria"]))};return{localToTimezone:function(a,i){return n(),e.tz(a,i)},getLocalTime:function(i,r,o){n();var s=a.user.location.timezone,t=e(r).tz(s.substr(s.indexOf(" ")+1)),c=e(r).tz(i.substr(i.indexOf(" ")+1)),A="ahead",l="minutes",u=t.zone()-c.zone(),m={};return m.time=c.format(o||"h:mm a"),m.momentObject=c,0===u?m.offset="":(u<0&&(u=-u,A="behind"),u>=60&&(u/=60,l="hours"),1===u&&(l=l.slice(0,-1)),m.offset=u+" "+l+" "+A),m.timezone=c.format("z"),m}}}])});