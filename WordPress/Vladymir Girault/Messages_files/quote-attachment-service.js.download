define(["./common"],function(t){"use strict";t.factory("eoQuoteAttachment",["eoDashConfig",function(t){var e=function(e){return this.objectType="eo:quote",this.message=e.message,this.messageHtml=e.messageHtml,this.created=e.created,this.userId=e.userId,this.storyId=e.storyId,this.roomId=e.roomId,this._undoState=e._undoState,e.integrationData?(this.integration=e.integrationData,this.user={orgId:null,info:{fullName:this.integration.integrationName,photoUrl:this.integration.integrationIconUrl}},"/"===this.user.info.photoUrl.slice(0,1)&&(this.user.info.photoUrl=t.assets.url+this.user.info.photoUrl)):(this.user=e.user,this.orgId=e.user.orgId),this};return e.prototype.hasError=function(){return!1},e.prototype.toJSON=function(){var e={message:this.message,created:this.created,storyId:this.storyId,roomId:this.roomId};return this.integration?(e.user=this.integration.integrationName,e.photo=this.integration.integrationIconUrl,"/"===e.photo.slice(0,1)&&(e.photo=t.assets.url+e.photo)):(e.userId=this.userId||"",e.orgId=this.orgId||""),{objectType:this.objectType,metadata:e}},{create:function(t){return new e(t)}}}])});