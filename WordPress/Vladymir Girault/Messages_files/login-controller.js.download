define(["angular"],function(e){"use strict";return["$scope","$state","$stateParams","$timeout","$window","$location","eoAuth",function(r,n,a,o,s,t,u){var i=function(e){if(e&&e.map){var r=e.map(function(e){return"invalid_grant"===e.code?e.message="Invalid username, email, or password.":"unknown_error"===e.code&&(e.message="Unknown error. Please try again."),e.message});return r[0]?[r[0]]:[]}return["Unknown error. Please try again."]},m=r.user={};if(r.user.username=s.localStorage.getItem("username"),r.rememberMe=!!r.user.username,a.data){var c=e.fromJson(a.data);r.errors=i(c.errors)}var l;r.showLoading=!1,r.submit=function(){m.username&&m.password?(r.errors=null,l=o(function(){r.showLoading=!0},1),u.login(m.username,m.password,r.rememberMe).catch(function(e){r.errors=i(e)}).finally(function(){o.cancel(l),r.showLoading=!1})):r.errors=["Please enter a username, email, and/or password."]}}]});