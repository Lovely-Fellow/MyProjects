define(["./common","./organization-model"],function(n){"use strict";n.factory("eoOrganizations",["$q","$cacheFactory","tlDirectory2","eoOrganizationModel",function(n,t,r,o){var e=t("orgs"),i={name:""},a=function(n){return e.get(n)};return{get:function(t){if(!t)return n.reject("No organization id provided");var u=a(t);return u||(u=function(){return r.getOrganization({uid:t}).then(function(n){return o.fromData(n)},function(){return o.fromData(i)})}(),e.put(t,u)),u},cache:function(t,r){var i=o.fromData(r);e.put(t,n.when(i))}}}])});